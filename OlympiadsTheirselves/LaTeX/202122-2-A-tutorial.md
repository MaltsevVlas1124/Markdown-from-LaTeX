# Розбір задачі

Якщо обчислити кілька перших трійок (~1 + 2 - 3 = 0~; ~4 + 5 - 6 = 3~; ~7 + 8 - 9 = 6~; ~10 + 11 - 12 = 9~; ~\dots~), можна&nbsp;помітити, що&nbsp;результати таких трійок дорівнюють 0, 3, 6, 9, ~\dots~, утворюючи тим&nbsp;самим арифметичну прогресію.

Таким чином, якщо порахувати кількість трійок через вираз `k:=n div 3` (Pascal), він же `k = n//3` (Python3), ~\dots~ (в&nbsp;разі потреби допишіть своєю мовою програмування самостійно), то&nbsp;суму всіх трійок можна&nbsp;порахувати через формулу ~\frac{0+3(k-1)}{2} \cdot k~.

Само&nbsp;собою, введене ~n~ може&nbsp;бути й&nbsp;не&nbsp;кратним 3, тобто можуть лишитися один&nbsp;чи&nbsp;два останні доданки, які не&nbsp;входять ні&nbsp;в&nbsp;яку трійку; їх&nbsp;можна&nbsp;додати&nbsp;до результату окремими `if`-ами.

**А без цих прогресій можна?** Якщо Вас влаштовує 70&nbsp;% балів, то&nbsp;можна&nbsp;просто порахувати в&nbsp;циклі суму всіх підряд натуральних чисел від&nbsp;1 до&nbsp;~n~, але&nbsp;доданки, кратні&nbsp;3, не&nbsp;додавати, а&nbsp;віднімати (включивши `if`&nbsp;всередину `for`-а).

Само&nbsp;собою, можна&nbsp;прийти до&nbsp;правильного результату і&nbsp;ще&nbsp;якось. Можна,&nbsp;наприклад, не&nbsp;пам'ятаючи формулу суми арифметичної прогресії, вивести самостійно якийсь її&nbsp;аналог, враховуючи якісь особливості конкретно цієї задачі. Ніхто не&nbsp;перевіряє, чи&nbsp;знаєте Ви, що&nbsp;це&nbsp;називається арифметичною прогресією, та&nbsp;чи&nbsp;пам'ятаєте стандартну формулу. Зумієте замінити чимось іншим, що&nbsp;теж вкладеться в&nbsp;обмеження часу&nbsp;— ну&nbsp;то&nbsp;й&nbsp;добре.

**А згорнути зовсім в&nbsp;один вираз, щоб обчислювати і&nbsp;без циклів, і&nbsp;без `if`-ів, можна?** В&nbsp;принципі, можна. Якби сума була&nbsp;не&nbsp;знакозмінною, а&nbsp;просто ~1+2+3+4+5+6+\ldots+n~, її&nbsp;можна&nbsp;було&nbsp;б перетворити (наприклад, за&nbsp;все тією ж формулою суми арифметичної прогресії) до&nbsp;~\frac{n\cdot(n+1)}{2}~. Чим потрібна знакозмінна сума відрізняється від&nbsp;цієї? Тим, що&nbsp;доданки, кратні&nbsp;3, віднімаються, а&nbsp;не&nbsp;додаються~\dots~ але&nbsp;це&nbsp;са́ме можна&nbsp;сформулювати інакше: тим, що&nbsp;із&nbsp;~\frac{n\cdot(n+1)}{2}~ треба&nbsp;двічі відняти ~3+6+9+\ldots+3k~ (де&nbsp;~k~, як&nbsp;і&nbsp;кілька абзаців тому, має&nbsp;смисл ~n \text{ div } 3~, а&nbsp;віднімати двічі треба&nbsp;тому, що&nbsp;якщо просто відняти, то&nbsp;вийшла&nbsp;б сума ~1+2+4+5+7+8+10+\ldots~, тобто&nbsp;доданки, кратні&nbsp;3, просто «щезли»&nbsp;б, а&nbsp;треба, щоб вони не&nbsp;«щезли», а&nbsp;стали від'ємними). Легко бачити, що&nbsp;~3+6+9+\ldots+3k = 3\cdot(1+2+3+\ldots+k) =~ ~3\cdot\frac{k\cdot(k+1)}{2}~, а&nbsp;раз цю&nbsp;суму треба&nbsp;відняти двічі, маємо
$$ \text{остаточний результат} = \frac{n\cdot(n+1)}{2} - 3\cdot k\cdot(k+1), \quad \text{де } k=n \text{ div } 3. $$

Також, для&nbsp;отримання повних балів важливо рахувати суму, щонайменше, в&nbsp;64-бітовому цілочисельному типі, бо&nbsp;в&nbsp;менших (хоч&nbsp;32-бітовому цілочисельному, хоч&nbsp;з&nbsp;рухомою комою (плаваючою точкою), як-то `double`) не&nbsp;вистачає розрядів (відбувається переповнення (див.&nbsp;також про&nbsp;переповнення) чи&nbsp;похибка (див.&nbsp;також про&nbsp;похибки з&nbsp;рухомою комою), що&nbsp;призводить до&nbsp;неправильної відповіді (наскільки сильно не&nbsp;вистачає і&nbsp;наскільки неповні бали, може&nbsp;залежати від&nbsp;конкретної мови програмування та&nbsp;конкретних типів). Рахувати у&nbsp;ще&nbsp;більших типах (наприклад, `BigInteger` мови Java) теж&nbsp;можна.
